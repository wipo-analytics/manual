<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Patent Analytics with Plotly | The WIPO Manual on Open Source Patent Analytics (2nd edition)</title>
  <meta name="description" content="A practical introduction to free and open source tools for patent analytics." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Patent Analytics with Plotly | The WIPO Manual on Open Source Patent Analytics (2nd edition)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A practical introduction to free and open source tools for patent analytics." />
  <meta name="github-repo" content="wipo-analytics/manual_bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Patent Analytics with Plotly | The WIPO Manual on Open Source Patent Analytics (2nd edition)" />
  
  <meta name="twitter:description" content="A practical introduction to free and open source tools for patent analytics." />
  



<meta name="date" content="2021-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="gephi-1.html"/>
<link rel="next" href="patent-infographics-with-r.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The WIPO Manual on Open Source Patent Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Frontmatter</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#authorship"><i class="fa fa-check"></i><b>0.1</b> Authorship</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="1.1" data-path="preface.html"><a href="preface.html#acknowledgements"><i class="fa fa-check"></i><b>1.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.2" data-path="preface.html"><a href="preface.html#further-information"><i class="fa fa-check"></i><b>1.2</b> Further information</a></li>
<li class="chapter" data-level="1.3" data-path="preface.html"><a href="preface.html#conditions-of-use"><i class="fa fa-check"></i><b>1.3</b> Conditions of use</a></li>
<li class="chapter" data-level="1.4" data-path="preface.html"><a href="preface.html#disclaimer"><i class="fa fa-check"></i><b>1.4</b> Disclaimer</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#structure"><i class="fa fa-check"></i><b>2.1</b> Structure</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#an-overview-of-open-source-and-free-software-tools"><i class="fa fa-check"></i><b>2.1.1</b> An Overview of Open Source and Free Software Tools</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction.html"><a href="introduction.html#approaching-patent-data"><i class="fa fa-check"></i><b>2.1.2</b> Approaching Patent Data</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction.html"><a href="introduction.html#obtaining-patent-data"><i class="fa fa-check"></i><b>2.1.3</b> Obtaining Patent Data</a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction.html"><a href="introduction.html#cleaning-and-tidying-patent-data"><i class="fa fa-check"></i><b>2.1.4</b> Cleaning and Tidying Patent Data</a></li>
<li class="chapter" data-level="2.1.5" data-path="introduction.html"><a href="introduction.html#analysing-and-visualizing-patent-data"><i class="fa fa-check"></i><b>2.1.5</b> Analysing and Visualizing Patent Data</a></li>
<li class="chapter" data-level="2.1.6" data-path="introduction.html"><a href="introduction.html#sharing-data-and-the-writing-of-the-manual"><i class="fa fa-check"></i><b>2.1.6</b> Sharing Data and The Writing of the Manual</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html"><i class="fa fa-check"></i><b>3</b> An Overview of Tools</a>
<ul>
<li class="chapter" data-level="3.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#general-tools"><i class="fa fa-check"></i><b>3.1</b> General Tools</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#open-office"><i class="fa fa-check"></i><b>3.1.1</b> <span>Open Office</span></a></li>
<li class="chapter" data-level="3.1.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#google-sheets"><i class="fa fa-check"></i><b>3.1.2</b> <span>Google Sheets</span></a></li>
<li class="chapter" data-level="3.1.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#google-fusion-tables"><i class="fa fa-check"></i><b>3.1.3</b> <span>Google Fusion Tables</span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#cleaning-tools"><i class="fa fa-check"></i><b>3.2</b> Cleaning Tools</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#open-refine-formerly-google-refine"><i class="fa fa-check"></i><b>3.2.1</b> <span>Open Refine</span> (formerly Google Refine)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#data-mining"><i class="fa fa-check"></i><b>3.3</b> Data Mining</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#rstudio"><i class="fa fa-check"></i><b>3.3.1</b> <span>RStudio</span></a></li>
<li class="chapter" data-level="3.3.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#rapidminer-studio"><i class="fa fa-check"></i><b>3.3.2</b> <span>RapidMiner Studio</span></a></li>
<li class="chapter" data-level="3.3.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#knime"><i class="fa fa-check"></i><b>3.3.3</b> <span>KNIME</span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#data-visualization"><i class="fa fa-check"></i><b>3.4</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#google-charts"><i class="fa fa-check"></i><b>3.4.1</b> <span>Google Charts</span></a></li>
<li class="chapter" data-level="3.4.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#tableau-public"><i class="fa fa-check"></i><b>3.4.2</b> <span>Tableau Public</span></a></li>
<li class="chapter" data-level="3.4.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#r-and-rstudio"><i class="fa fa-check"></i><b>3.4.3</b> R and RStudio</a></li>
<li class="chapter" data-level="3.4.4" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#shiny"><i class="fa fa-check"></i><b>3.4.4</b> Shiny</a></li>
<li class="chapter" data-level="3.4.5" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#ibm-many-eyes"><i class="fa fa-check"></i><b>3.4.5</b> <span>IBM Many Eyes</span></a></li>
<li class="chapter" data-level="3.4.6" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#other-visualization-tools"><i class="fa fa-check"></i><b>3.4.6</b> Other visualization Tools</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#network-visualization"><i class="fa fa-check"></i><b>3.5</b> Network Visualization</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#gephi"><i class="fa fa-check"></i><b>3.5.1</b> <span>Gephi</span></a></li>
<li class="chapter" data-level="3.5.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#nodexl"><i class="fa fa-check"></i><b>3.5.2</b> <span>NodeXL</span></a></li>
<li class="chapter" data-level="3.5.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#cytoscape"><i class="fa fa-check"></i><b>3.5.3</b> <span>Cytoscape</span></a></li>
<li class="chapter" data-level="3.5.4" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#pajek"><i class="fa fa-check"></i><b>3.5.4</b> <span>Pajek</span></a></li>
<li class="chapter" data-level="3.5.5" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#vos-viewer"><i class="fa fa-check"></i><b>3.5.5</b> <span>VOS Viewer</span></a></li>
<li class="chapter" data-level="3.5.6" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#hive-plots"><i class="fa fa-check"></i><b>3.5.6</b> <span>Hive Plots</span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#infographics"><i class="fa fa-check"></i><b>3.6</b> Infographics</a></li>
<li class="chapter" data-level="3.7" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#geographical-mapping"><i class="fa fa-check"></i><b>3.7</b> Geographical Mapping</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#openstreetmap"><i class="fa fa-check"></i><b>3.7.1</b> <span>OpenStreetMap</span></a></li>
<li class="chapter" data-level="3.7.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#leaflet"><i class="fa fa-check"></i><b>3.7.2</b> <span>Leaflet</span></a></li>
<li class="chapter" data-level="3.7.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#tableau-public-1"><i class="fa fa-check"></i><b>3.7.3</b> <span>Tableau Public</span></a></li>
<li class="chapter" data-level="3.7.4" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#qgis"><i class="fa fa-check"></i><b>3.7.4</b> <span>QGIS</span></a></li>
<li class="chapter" data-level="3.7.5" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#geonames.org."><i class="fa fa-check"></i><b>3.7.5</b> <span>Geonames.org</span>.</a></li>
<li class="chapter" data-level="3.7.6" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#icharts"><i class="fa fa-check"></i><b>3.7.6</b> <span>iCharts</span></a></li>
<li class="chapter" data-level="3.7.7" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#openlayers3"><i class="fa fa-check"></i><b>3.7.7</b> <span>OpenLayers3</span></a></li>
<li class="chapter" data-level="3.7.8" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#cartodb"><i class="fa fa-check"></i><b>3.7.8</b> <span>CartoDB</span></a></li>
<li class="chapter" data-level="3.7.9" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#d3.js"><i class="fa fa-check"></i><b>3.7.9</b> <span>d3.js</span></a></li>
<li class="chapter" data-level="3.7.10" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#highcharts"><i class="fa fa-check"></i><b>3.7.10</b> <span>Highcharts</span></a></li>
<li class="chapter" data-level="3.7.11" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#datawrapper"><i class="fa fa-check"></i><b>3.7.11</b> <span>Datawrapper</span></a></li>
<li class="chapter" data-level="3.7.12" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#plotly"><i class="fa fa-check"></i><b>3.7.12</b> <span>Plotly</span></a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#text-mining"><i class="fa fa-check"></i><b>3.8</b> Text Mining</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#jigsaw-visual-analytics"><i class="fa fa-check"></i><b>3.8.1</b> <span>Jigsaw Visual Analytics</span></a></li>
<li class="chapter" data-level="3.8.2" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#weka"><i class="fa fa-check"></i><b>3.8.2</b> <span>Weka</span></a></li>
<li class="chapter" data-level="3.8.3" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#word-trees"><i class="fa fa-check"></i><b>3.8.3</b> Word Trees</a></li>
<li class="chapter" data-level="3.8.4" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#google-word-trees-on-the-google-developers-site-provides-instructions-for-generating-word-trees-using-javascript."><i class="fa fa-check"></i><b>3.8.4</b> <span>Google Word Trees</span> on the Google Developers site provides instructions for generating word trees using Javascript.</a></li>
<li class="chapter" data-level="3.8.5" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#kh-coder-free-software-allowing-quantitative-content-analysistext-mining."><i class="fa fa-check"></i><b>3.8.5</b> <span>KH Coder</span>: free software allowing quantitative content analysis/text mining.</a></li>
<li class="chapter" data-level="3.8.6" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#r-and-the-tm-package"><i class="fa fa-check"></i><b>3.8.6</b> R and the <code>tm</code> package</a></li>
<li class="chapter" data-level="3.8.7" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#python-and-text-mining"><i class="fa fa-check"></i><b>3.8.7</b> Python and Text Mining</a></li>
<li class="chapter" data-level="3.8.8" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#the-natural-language-toolkitntlk"><i class="fa fa-check"></i><b>3.8.8</b> <span>The Natural Language Toolkit(NTLK)</span></a></li>
<li class="chapter" data-level="3.8.9" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#other-text-mining-resources"><i class="fa fa-check"></i><b>3.8.9</b> Other text mining resources</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#round-up"><i class="fa fa-check"></i><b>3.9</b> Round Up</a></li>
<li class="chapter" data-level="3.10" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#the-checklist"><i class="fa fa-check"></i><b>3.10</b> The Checklist</a></li>
<li class="chapter" data-level="3.11" data-path="an-overview-of-tools.html"><a href="an-overview-of-tools.html#credits"><i class="fa fa-check"></i><b>3.11</b> Credits</a></li>
</ul></li>
<li class="part"><span><b>I Approaching Patent Data</b></span></li>
<li class="chapter" data-level="4" data-path="datafields.html"><a href="datafields.html"><i class="fa fa-check"></i><b>4</b> Datafields</a>
<ul>
<li class="chapter" data-level="4.1" data-path="datafields.html"><a href="datafields.html#what-is-a-patent"><i class="fa fa-check"></i><b>4.1</b> What is a Patent?</a></li>
<li class="chapter" data-level="4.2" data-path="datafields.html"><a href="datafields.html#as-a-form-of-intellectual-property-right"><i class="fa fa-check"></i><b>4.2</b> As a form of intellectual property right</a></li>
<li class="chapter" data-level="4.3" data-path="datafields.html"><a href="datafields.html#patents-as-a-type-of-document"><i class="fa fa-check"></i><b>4.3</b> Patents as a type of document</a></li>
<li class="chapter" data-level="4.4" data-path="datafields.html"><a href="datafields.html#basic-data-types"><i class="fa fa-check"></i><b>4.4</b> Basic Data Types</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="datafields.html"><a href="datafields.html#synthetic-genomes"><i class="fa fa-check"></i><b>4.4.1</b> <span>Synthetic Genomes</span></a></li>
<li class="chapter" data-level="4.4.2" data-path="datafields.html"><a href="datafields.html#original-front-page"><i class="fa fa-check"></i><b>4.4.2</b> <span>Original Front Page</span></a></li>
<li class="chapter" data-level="4.4.3" data-path="datafields.html"><a href="datafields.html#espacenet-front-page"><i class="fa fa-check"></i><b>4.4.3</b> <span>espacenet Front Page</span></a></li>
<li class="chapter" data-level="4.4.4" data-path="datafields.html"><a href="datafields.html#description"><i class="fa fa-check"></i><b>4.4.4</b> <span>Description</span></a></li>
<li class="chapter" data-level="4.4.5" data-path="datafields.html"><a href="datafields.html#claims"><i class="fa fa-check"></i><b>4.4.5</b> <span>Claims</span></a></li>
<li class="chapter" data-level="4.4.6" data-path="datafields.html"><a href="datafields.html#family-members"><i class="fa fa-check"></i><b>4.4.6</b> <span>Family Members</span></a></li>
<li class="chapter" data-level="4.4.7" data-path="datafields.html"><a href="datafields.html#cited"><i class="fa fa-check"></i><b>4.4.7</b> <span>Cited</span></a></li>
<li class="chapter" data-level="4.4.8" data-path="datafields.html"><a href="datafields.html#citing"><i class="fa fa-check"></i><b>4.4.8</b> <span>Citing</span></a></li>
<li class="chapter" data-level="4.4.9" data-path="datafields.html"><a href="datafields.html#legal-status"><i class="fa fa-check"></i><b>4.4.9</b> <span>Legal Status</span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="datafields.html"><a href="datafields.html#round-up-1"><i class="fa fa-check"></i><b>4.5</b> Round Up</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>5</b> Datasets</a>
<ul>
<li class="chapter" data-level="5.1" data-path="datasets.html"><a href="datasets.html#the-datasets"><i class="fa fa-check"></i><b>5.1</b> The datasets</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="datasets.html"><a href="datasets.html#pizza-patent-datasets"><i class="fa fa-check"></i><b>5.1.1</b> Pizza patent datasets</a></li>
<li class="chapter" data-level="5.1.2" data-path="datasets.html"><a href="datasets.html#patent-landscape-reports-datasets"><i class="fa fa-check"></i><b>5.1.2</b> Patent Landscape Reports datasets</a></li>
<li class="chapter" data-level="5.1.3" data-path="datasets.html"><a href="datasets.html#other-datasets"><i class="fa fa-check"></i><b>5.1.3</b> Other datasets</a></li>
<li class="chapter" data-level="5.1.4" data-path="datasets.html"><a href="datasets.html#round-up-2"><i class="fa fa-check"></i><b>5.1.4</b> Round Up</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#part-obtaining-patent-data"><i class="fa fa-check"></i>(PART) Obtaining Patent Data</a>
<ul>
<li class="chapter" data-level="5.2" data-path="12-plotly.html"><a href="#databases"><i class="fa fa-check"></i><b>5.2</b> Databases</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="datasets.html"><a href="datasets.html#introduction-1"><i class="fa fa-check"></i><b>5.2.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="datasets.html"><a href="datasets.html#the-databases"><i class="fa fa-check"></i><b>5.3</b> The Databases</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="datasets.html"><a href="datasets.html#the-lens"><i class="fa fa-check"></i><b>5.3.1</b> <span>The Lens</span></a></li>
<li class="chapter" data-level="5.3.2" data-path="datasets.html"><a href="datasets.html#patentscope"><i class="fa fa-check"></i><b>5.3.2</b> <span>Patentscope</span></a></li>
<li class="chapter" data-level="5.3.3" data-path="datasets.html"><a href="datasets.html#espacenet"><i class="fa fa-check"></i><b>5.3.3</b> <span>espacenet</span></a></li>
<li class="chapter" data-level="5.3.4" data-path="datasets.html"><a href="datasets.html#latipat"><i class="fa fa-check"></i><b>5.3.4</b> <span>LATIPAT</span></a></li>
<li class="chapter" data-level="5.3.5" data-path="datasets.html"><a href="datasets.html#epo-open-patent-services"><i class="fa fa-check"></i><b>5.3.5</b> <span>EPO Open Patent Services</span></a></li>
<li class="chapter" data-level="5.3.6" data-path="datasets.html"><a href="datasets.html#uspto-patents-view"><i class="fa fa-check"></i><b>5.3.6</b> <span>USPTO Patents View</span></a></li>
<li class="chapter" data-level="5.3.7" data-path="datasets.html"><a href="datasets.html#google-patents"><i class="fa fa-check"></i><b>5.3.7</b> <span>Google Patents</span></a></li>
<li class="chapter" data-level="5.3.8" data-path="datasets.html"><a href="datasets.html#google-prior-art-finder"><i class="fa fa-check"></i><b>5.3.8</b> <span>Google Prior Art Finder</span></a></li>
<li class="chapter" data-level="5.3.9" data-path="datasets.html"><a href="datasets.html#google-uspto-bulk-download"><i class="fa fa-check"></i><b>5.3.9</b> <span>Google USPTO Bulk download</span></a></li>
<li class="chapter" data-level="5.3.10" data-path="datasets.html"><a href="datasets.html#free-patents-online"><i class="fa fa-check"></i><b>5.3.10</b> <span>Free Patents Online</span></a></li>
<li class="chapter" data-level="5.3.11" data-path="datasets.html"><a href="datasets.html#depatisnet"><i class="fa fa-check"></i><b>5.3.11</b> <span>DEPATISnet</span></a></li>
<li class="chapter" data-level="5.3.12" data-path="datasets.html"><a href="datasets.html#oecd-patent-databases"><i class="fa fa-check"></i><b>5.3.12</b> <span>OECD Patent Databases</span></a></li>
<li class="chapter" data-level="5.3.13" data-path="datasets.html"><a href="datasets.html#epo-world-patent-statistical-database"><i class="fa fa-check"></i><b>5.3.13</b> <span>EPO World Patent Statistical Database</span></a></li>
<li class="chapter" data-level="5.3.14" data-path="datasets.html"><a href="datasets.html#other-data-sources"><i class="fa fa-check"></i><b>5.3.14</b> Other data sources</a></li>
<li class="chapter" data-level="5.3.15" data-path="datasets.html"><a href="datasets.html#patent2net-in-python"><i class="fa fa-check"></i><b>5.3.15</b> <span>Patent2Net</span> in Python</a></li>
<li class="chapter" data-level="5.3.16" data-path="datasets.html"><a href="datasets.html#python-epo-ops-client-by-gsong"><i class="fa fa-check"></i><b>5.3.16</b> <span>Python EPO OPS Client</span> by Gsong</a></li>
<li class="chapter" data-level="5.3.17" data-path="datasets.html"><a href="datasets.html#fung-institute-patent-server-for-uspto-data-in-json"><i class="fa fa-check"></i><b>5.3.17</b> <span>Fung Institute Patent Server</span> for USPTO data in JSON</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="the-lens-1.html"><a href="the-lens-1.html"><i class="fa fa-check"></i><b>6</b> The Lens</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-lens-1.html"><a href="the-lens-1.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="the-lens-1.html"><a href="the-lens-1.html#getting-started"><i class="fa fa-check"></i><b>6.2</b> Getting Started</a></li>
<li class="chapter" data-level="6.3" data-path="the-lens-1.html"><a href="the-lens-1.html#additional-features"><i class="fa fa-check"></i><b>6.3</b> Additional features</a></li>
<li class="chapter" data-level="6.4" data-path="the-lens-1.html"><a href="the-lens-1.html#visualisation"><i class="fa fa-check"></i><b>6.4</b> Visualisation</a></li>
<li class="chapter" data-level="6.5" data-path="the-lens-1.html"><a href="the-lens-1.html#working-with-texts"><i class="fa fa-check"></i><b>6.5</b> Working with texts</a></li>
<li class="chapter" data-level="6.6" data-path="the-lens-1.html"><a href="the-lens-1.html#patseq"><i class="fa fa-check"></i><b>6.6</b> PatSeq</a></li>
<li class="chapter" data-level="6.7" data-path="the-lens-1.html"><a href="the-lens-1.html#round-up-3"><i class="fa fa-check"></i><b>6.7</b> Round Up</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="patentscope-1.html"><a href="patentscope-1.html"><i class="fa fa-check"></i><b>7</b> Patentscope</a>
<ul>
<li class="chapter" data-level="7.1" data-path="patentscope-1.html"><a href="patentscope-1.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="patentscope-1.html"><a href="patentscope-1.html#collections-to-search"><i class="fa fa-check"></i><b>7.2</b> Collections to Search</a></li>
<li class="chapter" data-level="7.3" data-path="patentscope-1.html"><a href="patentscope-1.html#simple-search"><i class="fa fa-check"></i><b>7.3</b> Simple Search</a></li>
<li class="chapter" data-level="7.4" data-path="patentscope-1.html"><a href="patentscope-1.html#results"><i class="fa fa-check"></i><b>7.4</b> Results</a></li>
<li class="chapter" data-level="7.5" data-path="patentscope-1.html"><a href="patentscope-1.html#downloading-results"><i class="fa fa-check"></i><b>7.5</b> Downloading Results</a></li>
<li class="chapter" data-level="7.6" data-path="patentscope-1.html"><a href="patentscope-1.html#cross-lingual-searching"><i class="fa fa-check"></i><b>7.6</b> Cross Lingual Searching</a></li>
<li class="chapter" data-level="7.7" data-path="patentscope-1.html"><a href="patentscope-1.html#sequence-data"><i class="fa fa-check"></i><b>7.7</b> Sequence Data</a></li>
<li class="chapter" data-level="7.8" data-path="patentscope-1.html"><a href="patentscope-1.html#round-up-4"><i class="fa fa-check"></i><b>7.8</b> Round Up</a></li>
</ul></li>
<li class="part"><span><b>II Cleaning Patent Data</b></span></li>
<li class="chapter" data-level="8" data-path="open-refine.html"><a href="open-refine.html"><i class="fa fa-check"></i><b>8</b> Open Refine</a>
<ul>
<li class="chapter" data-level="8.1" data-path="open-refine.html"><a href="open-refine.html#install-open-refine"><i class="fa fa-check"></i><b>8.1</b> Install Open Refine</a></li>
<li class="chapter" data-level="8.2" data-path="open-refine.html"><a href="open-refine.html#create-a-project"><i class="fa fa-check"></i><b>8.2</b> Create a Project</a></li>
<li class="chapter" data-level="8.3" data-path="open-refine.html"><a href="open-refine.html#open-refine-basics"><i class="fa fa-check"></i><b>8.3</b> Open Refine Basics</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="open-refine.html"><a href="open-refine.html#open-refine-runs-in-a-browser"><i class="fa fa-check"></i><b>8.3.1</b> Open Refine runs in a browser</a></li>
<li class="chapter" data-level="8.3.2" data-path="open-refine.html"><a href="open-refine.html#open-refine-works-on-columns."><i class="fa fa-check"></i><b>8.3.2</b> Open Refine works on columns.</a></li>
<li class="chapter" data-level="8.3.3" data-path="open-refine.html"><a href="open-refine.html#open-refine-works-with-facets."><i class="fa fa-check"></i><b>8.3.3</b> Open Refine works with Facets.</a></li>
<li class="chapter" data-level="8.3.4" data-path="open-refine.html"><a href="open-refine.html#custom-facets"><i class="fa fa-check"></i><b>8.3.4</b> Custom Facets</a></li>
<li class="chapter" data-level="8.3.5" data-path="open-refine.html"><a href="open-refine.html#reordering-columns"><i class="fa fa-check"></i><b>8.3.5</b> Reordering Columns</a></li>
<li class="chapter" data-level="8.3.6" data-path="open-refine.html"><a href="open-refine.html#undo-and-redo"><i class="fa fa-check"></i><b>8.3.6</b> Undo and Redo</a></li>
<li class="chapter" data-level="8.3.7" data-path="open-refine.html"><a href="open-refine.html#exporting"><i class="fa fa-check"></i><b>8.3.7</b> Exporting</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="open-refine.html"><a href="open-refine.html#basic-cleaning"><i class="fa fa-check"></i><b>8.4</b> Basic Cleaning</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="open-refine.html"><a href="open-refine.html#changing-case"><i class="fa fa-check"></i><b>8.4.1</b> Changing case</a></li>
<li class="chapter" data-level="8.4.2" data-path="open-refine.html"><a href="open-refine.html#regularise-case"><i class="fa fa-check"></i><b>8.4.2</b> Regularise case</a></li>
<li class="chapter" data-level="8.4.3" data-path="open-refine.html"><a href="open-refine.html#remove-leading-and-trailing-whitespace"><i class="fa fa-check"></i><b>8.4.3</b> Remove leading and trailing whitespace</a></li>
<li class="chapter" data-level="8.4.4" data-path="open-refine.html"><a href="open-refine.html#add-columns"><i class="fa fa-check"></i><b>8.4.4</b> Add Columns</a></li>
<li class="chapter" data-level="8.4.5" data-path="open-refine.html"><a href="open-refine.html#address-encoding-and-related-problems"><i class="fa fa-check"></i><b>8.4.5</b> Address Encoding and related problems</a></li>
<li class="chapter" data-level="8.4.6" data-path="open-refine.html"><a href="open-refine.html#reformatting-dates"><i class="fa fa-check"></i><b>8.4.6</b> Reformatting dates</a></li>
<li class="chapter" data-level="8.4.7" data-path="open-refine.html"><a href="open-refine.html#access-additional-information"><i class="fa fa-check"></i><b>8.4.7</b> Access additional information</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="open-refine.html"><a href="open-refine.html#fill-blank-cells"><i class="fa fa-check"></i><b>8.5</b> Fill blank cells</a></li>
<li class="chapter" data-level="8.6" data-path="open-refine.html"><a href="open-refine.html#renaming-columns"><i class="fa fa-check"></i><b>8.6</b> Renaming columns</a></li>
<li class="chapter" data-level="8.7" data-path="open-refine.html"><a href="open-refine.html#exporting-data"><i class="fa fa-check"></i><b>8.7</b> Exporting Data</a></li>
<li class="chapter" data-level="8.8" data-path="open-refine.html"><a href="open-refine.html#splitting-applicants"><i class="fa fa-check"></i><b>8.8</b> Splitting Applicants</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="open-refine.html"><a href="open-refine.html#situation-1---first-applicants"><i class="fa fa-check"></i><b>8.8.1</b> Situation 1 - First Applicants</a></li>
<li class="chapter" data-level="8.8.2" data-path="open-refine.html"><a href="open-refine.html#situation-2---all-applicants"><i class="fa fa-check"></i><b>8.8.2</b> Situation 2 - All Applicants</a></li>
<li class="chapter" data-level="8.8.3" data-path="open-refine.html"><a href="open-refine.html#phonetic-fingerprint-metaphone-3-clustering"><i class="fa fa-check"></i><b>8.8.3</b> Phonetic Fingerprint (Metaphone 3) clustering</a></li>
<li class="chapter" data-level="8.8.4" data-path="open-refine.html"><a href="open-refine.html#levenshtein-edit-distance"><i class="fa fa-check"></i><b>8.8.4</b> Levenshtein Edit Distance</a></li>
<li class="chapter" data-level="8.8.5" data-path="open-refine.html"><a href="open-refine.html#ppm"><i class="fa fa-check"></i><b>8.8.5</b> PPM</a></li>
<li class="chapter" data-level="8.8.6" data-path="open-refine.html"><a href="open-refine.html#preparing-for-export"><i class="fa fa-check"></i><b>8.8.6</b> Preparing for export</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="open-refine.html"><a href="open-refine.html#round-up-5"><i class="fa fa-check"></i><b>8.9</b> Round Up</a></li>
<li class="chapter" data-level="8.10" data-path="open-refine.html"><a href="open-refine.html#useful-resources"><i class="fa fa-check"></i><b>8.10</b> Useful Resources</a></li>
</ul></li>
<li class="part"><span><b>III Visualizing Patent Data</b></span></li>
<li class="chapter" data-level="9" data-path="tableau-public-2.html"><a href="tableau-public-2.html"><i class="fa fa-check"></i><b>9</b> Tableau Public</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tableau-public-2.html"><a href="tableau-public-2.html#introduction-4"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="tableau-public-2.html"><a href="tableau-public-2.html#installing-tableau"><i class="fa fa-check"></i><b>9.2</b> Installing Tableau</a></li>
<li class="chapter" data-level="9.3" data-path="tableau-public-2.html"><a href="tableau-public-2.html#getting-started-1"><i class="fa fa-check"></i><b>9.3</b> Getting Started</a></li>
<li class="chapter" data-level="9.4" data-path="tableau-public-2.html"><a href="tableau-public-2.html#publication-trends"><i class="fa fa-check"></i><b>9.4</b> Publication Trends</a></li>
<li class="chapter" data-level="9.5" data-path="tableau-public-2.html"><a href="tableau-public-2.html#adding-new-data-sources"><i class="fa fa-check"></i><b>9.5</b> Adding New Data Sources</a></li>
<li class="chapter" data-level="9.6" data-path="tableau-public-2.html"><a href="tableau-public-2.html#creating-an-overview-dashboard"><i class="fa fa-check"></i><b>9.6</b> Creating an Overview Dashboard</a></li>
<li class="chapter" data-level="9.7" data-path="tableau-public-2.html"><a href="tableau-public-2.html#saving-display-and-privacy-settings"><i class="fa fa-check"></i><b>9.7</b> Saving, Display and Privacy Settings</a></li>
<li class="chapter" data-level="9.8" data-path="tableau-public-2.html"><a href="tableau-public-2.html#privacy-and-security"><i class="fa fa-check"></i><b>9.8</b> Privacy and Security</a></li>
<li class="chapter" data-level="9.9" data-path="tableau-public-2.html"><a href="tableau-public-2.html#round-up-6"><i class="fa fa-check"></i><b>9.9</b> Round Up</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="gephi-1.html"><a href="gephi-1.html"><i class="fa fa-check"></i><b>10</b> Gephi</a>
<ul>
<li class="chapter" data-level="10.1" data-path="gephi-1.html"><a href="gephi-1.html#installing-gephi"><i class="fa fa-check"></i><b>10.1</b> Installing Gephi</a></li>
<li class="chapter" data-level="10.2" data-path="gephi-1.html"><a href="gephi-1.html#opening-gephi-and-installing-plugins"><i class="fa fa-check"></i><b>10.2</b> Opening Gephi and Installing Plugins</a></li>
<li class="chapter" data-level="10.3" data-path="gephi-1.html"><a href="gephi-1.html#importing-a-file-to-gephi-with-the-converter-plugin"><i class="fa fa-check"></i><b>10.3</b> Importing a file to Gephi with the converter plugin</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="gephi-1.html"><a href="gephi-1.html#step-1.-open-gephi-and-choose-file-import"><i class="fa fa-check"></i><b>10.3.1</b> Step 1. Open Gephi and Choose File &gt; Import</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="gephi-1.html"><a href="gephi-1.html#sizing-and-colouring-nodes"><i class="fa fa-check"></i><b>10.4</b> Sizing and Colouring Nodes</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="gephi-1.html"><a href="gephi-1.html#filtering-the-data"><i class="fa fa-check"></i><b>10.4.1</b> Filtering the data</a></li>
<li class="chapter" data-level="10.4.2" data-path="gephi-1.html"><a href="gephi-1.html#setting-node-size"><i class="fa fa-check"></i><b>10.4.2</b> Setting Node Size</a></li>
<li class="chapter" data-level="10.4.3" data-path="gephi-1.html"><a href="gephi-1.html#colouring-the-nodes"><i class="fa fa-check"></i><b>10.4.3</b> Colouring the Nodes</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="gephi-1.html"><a href="gephi-1.html#laying-out-the-graph"><i class="fa fa-check"></i><b>10.5</b> Laying out the Graph</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="gephi-1.html"><a href="gephi-1.html#save-your-work"><i class="fa fa-check"></i><b>10.5.1</b> Save your work</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="gephi-1.html"><a href="gephi-1.html#adding-labels"><i class="fa fa-check"></i><b>10.6</b> Adding Labels</a></li>
<li class="chapter" data-level="10.7" data-path="gephi-1.html"><a href="gephi-1.html#using-the-preview-options"><i class="fa fa-check"></i><b>10.7</b> Using the Preview Options</a></li>
<li class="chapter" data-level="10.8" data-path="gephi-1.html"><a href="gephi-1.html#exporting-from-preview"><i class="fa fa-check"></i><b>10.8</b> Exporting from Preview</a></li>
<li class="chapter" data-level="10.9" data-path="gephi-1.html"><a href="gephi-1.html#resources"><i class="fa fa-check"></i><b>10.9</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html"><i class="fa fa-check"></i><b>11</b> Patent Analytics with Plotly</a>
<ul>
<li class="chapter" data-level="11.1" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html#introduction-5"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html#getting-started-with-plotly"><i class="fa fa-check"></i><b>11.2</b> Getting Started with Plotly</a></li>
<li class="chapter" data-level="11.3" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html#importing-files"><i class="fa fa-check"></i><b>11.3</b> Importing Files</a></li>
<li class="chapter" data-level="11.4" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html#creating-a-graphic-online"><i class="fa fa-check"></i><b>11.4</b> Creating a Graphic Online</a></li>
<li class="chapter" data-level="11.5" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html#working-with-plotly-in-r"><i class="fa fa-check"></i><b>11.5</b> Working with Plotly in R</a></li>
<li class="chapter" data-level="11.6" data-path="patent-analytics-with-plotly.html"><a href="patent-analytics-with-plotly.html#round-up-7"><i class="fa fa-check"></i><b>11.6</b> Round Up</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html"><i class="fa fa-check"></i><b>12</b> Patent Infographics with R</a>
<ul>
<li class="chapter" data-level="12.1" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#getting-started-2"><i class="fa fa-check"></i><b>12.1</b> Getting Started</a></li>
<li class="chapter" data-level="12.2" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#load-a-.csv-file-using-readr"><i class="fa fa-check"></i><b>12.2</b> Load a .csv file using <code>readr</code></a></li>
<li class="chapter" data-level="12.3" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#viewing-data"><i class="fa fa-check"></i><b>12.3</b> Viewing Data</a></li>
<li class="chapter" data-level="12.4" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#identifying-types-of-object"><i class="fa fa-check"></i><b>12.4</b> Identifying Types of Object</a></li>
<li class="chapter" data-level="12.5" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#working-with-data"><i class="fa fa-check"></i><b>12.5</b> Working with Data</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#select"><i class="fa fa-check"></i><b>12.5.1</b> Select</a></li>
<li class="chapter" data-level="12.5.2" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#adding-data-with-mutate"><i class="fa fa-check"></i><b>12.5.2</b> Adding data with <code>mutate()</code></a></li>
<li class="chapter" data-level="12.5.3" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#counting-data-using-count"><i class="fa fa-check"></i><b>12.5.3</b> Counting data using <code>count()</code></a></li>
<li class="chapter" data-level="12.5.4" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#rename-a-field-with-rename"><i class="fa fa-check"></i><b>12.5.4</b> Rename a field with <code>rename()</code></a></li>
<li class="chapter" data-level="12.5.5" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#make-a-quickplot-with-qplot"><i class="fa fa-check"></i><b>12.5.5</b> Make a quickplot with <code>qplot()</code></a></li>
<li class="chapter" data-level="12.5.6" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#filter-data-using-filter"><i class="fa fa-check"></i><b>12.5.6</b> Filter data using <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#simplify-code-with-pipes"><i class="fa fa-check"></i><b>12.6</b> Simplify code with pipes <code>%&gt;%</code></a></li>
<li class="chapter" data-level="12.7" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#harmonising-data"><i class="fa fa-check"></i><b>12.7</b> Harmonising data</a></li>
<li class="chapter" data-level="12.8" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#country-trends-using-spread-and-pivot_wider"><i class="fa fa-check"></i><b>12.8</b> Country Trends using <code>spread()</code> and <code>pivot_wider()</code></a></li>
<li class="chapter" data-level="12.9" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#tidying-data---separating-and-gathering"><i class="fa fa-check"></i><b>12.9</b> Tidying data - Separating and Gathering</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#trimming-with-stringr"><i class="fa fa-check"></i><b>12.9.1</b> Trimming with <code>stringr</code></a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#selecting-applicants-using-filter"><i class="fa fa-check"></i><b>12.10</b> Selecting applicants using <code>filter()</code></a></li>
<li class="chapter" data-level="12.11" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#generating-ipc-tables"><i class="fa fa-check"></i><b>12.11</b> Generating IPC Tables</a>
<ul>
<li class="chapter" data-level="12.11.1" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#phrases-tables"><i class="fa fa-check"></i><b>12.11.1</b> Phrases Tables</a></li>
</ul></li>
<li class="chapter" data-level="12.12" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#creating-an-infographic-in-infogr.am"><i class="fa fa-check"></i><b>12.12</b> Creating an infographic in infogr.am</a>
<ul>
<li class="chapter" data-level="12.12.1" data-path="patent-infographics-with-r.html"><a href="patent-infographics-with-r.html#round-up-8"><i class="fa fa-check"></i><b>12.12.1</b> Round Up</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Using APIs</b></span></li>
<li class="chapter" data-level="13" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html"><i class="fa fa-check"></i><b>13</b> Scientific Literature with Rplos</a>
<ul>
<li class="chapter" data-level="13.1" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#introduction-6"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>13.2</b> Install R and RStudio</a></li>
<li class="chapter" data-level="13.3" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#create-a-project-1"><i class="fa fa-check"></i><b>13.3</b> Create A Project</a></li>
<li class="chapter" data-level="13.4" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#install-packages"><i class="fa fa-check"></i><b>13.4</b> Install Packages</a></li>
<li class="chapter" data-level="13.5" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#key-functions-in-rplos"><i class="fa fa-check"></i><b>13.5</b> Key functions in rplos</a></li>
<li class="chapter" data-level="13.6" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#data-fields-in-rplos"><i class="fa fa-check"></i><b>13.6</b> Data Fields in rplos</a></li>
<li class="chapter" data-level="13.7" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#basic-searching-using-searchplos-navigating-and-exporting-data"><i class="fa fa-check"></i><b>13.7</b> Basic Searching using <code>searchplos()</code>, Navigating and Exporting Data</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#creating-a-new-object-and-writing-to-file"><i class="fa fa-check"></i><b>13.7.1</b> Creating a New Object and Writing to File</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#limit-by-journal"><i class="fa fa-check"></i><b>13.8</b> Limit by journal</a></li>
<li class="chapter" data-level="13.9" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#obtaining-the-full-number-of-results"><i class="fa fa-check"></i><b>13.9</b> Obtaining the full number of results</a></li>
<li class="chapter" data-level="13.10" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#obtaining-the-number-of-records-across-plos-journals"><i class="fa fa-check"></i><b>13.10</b> Obtaining the number of records across PLOS Journals</a></li>
<li class="chapter" data-level="13.11" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#writing-the-results-and-using-a-codebook"><i class="fa fa-check"></i><b>13.11</b> Writing the results and using a codebook</a></li>
<li class="chapter" data-level="13.12" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#proximity-searching"><i class="fa fa-check"></i><b>13.12</b> Proximity Searching</a></li>
<li class="chapter" data-level="13.13" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#searching-using-multiple-phrases"><i class="fa fa-check"></i><b>13.13</b> Searching Using Multiple Phrases</a></li>
<li class="chapter" data-level="13.14" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#tidying-and-organising-the-data"><i class="fa fa-check"></i><b>13.14</b> Tidying and Organising the Data</a>
<ul>
<li class="chapter" data-level="13.14.1" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#renaming-a-column"><i class="fa fa-check"></i><b>13.14.1</b> Renaming a column</a></li>
</ul></li>
<li class="chapter" data-level="13.15" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#filling-blank-spaces"><i class="fa fa-check"></i><b>13.15</b> Filling Blank Spaces</a></li>
<li class="chapter" data-level="13.16" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#converting-dates"><i class="fa fa-check"></i><b>13.16</b> Converting Dates</a></li>
<li class="chapter" data-level="13.17" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#add-a-count"><i class="fa fa-check"></i><b>13.17</b> Add a count</a></li>
<li class="chapter" data-level="13.18" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#remove-a-column"><i class="fa fa-check"></i><b>13.18</b> Remove a column</a></li>
<li class="chapter" data-level="13.19" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#arranging-the-data"><i class="fa fa-check"></i><b>13.19</b> Arranging the Data</a></li>
<li class="chapter" data-level="13.20" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#dealing-with-duplicates"><i class="fa fa-check"></i><b>13.20</b> Dealing with Duplicates</a>
<ul>
<li class="chapter" data-level="13.20.1" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#spreading-data-using-spread-from-tidyr"><i class="fa fa-check"></i><b>13.20.1</b> Spreading data using <code>spread()</code> from <code>tidyr</code></a></li>
<li class="chapter" data-level="13.20.2" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#deleting-duplicates"><i class="fa fa-check"></i><b>13.20.2</b> Deleting Duplicates</a></li>
</ul></li>
<li class="chapter" data-level="13.21" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#restricting-searches-by-section"><i class="fa fa-check"></i><b>13.21</b> Restricting searches by section</a></li>
<li class="chapter" data-level="13.22" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#by-author"><i class="fa fa-check"></i><b>13.22</b> By author</a></li>
<li class="chapter" data-level="13.23" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#title-search-using-plostitle"><i class="fa fa-check"></i><b>13.23</b> Title search using <code>plostitle()</code></a></li>
<li class="chapter" data-level="13.24" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#abstract-search-using-plosabstract"><i class="fa fa-check"></i><b>13.24</b> Abstract search using <code>plosabstract()</code></a></li>
<li class="chapter" data-level="13.25" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#subject-area-using-plossubject"><i class="fa fa-check"></i><b>13.25</b> Subject Area using <code>plossubject()</code></a></li>
<li class="chapter" data-level="13.26" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#highlighting-terms-and-text-fragments-with-highplos"><i class="fa fa-check"></i><b>13.26</b> Highlighting terms and text fragments with highplos()</a>
<ul>
<li class="chapter" data-level="13.26.1" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#snippets-using-hl.snippets"><i class="fa fa-check"></i><b>13.26.1</b> Snippets using hl.snippets</a></li>
<li class="chapter" data-level="13.26.2" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#fragment-size-using-hl.fragsize"><i class="fa fa-check"></i><b>13.26.2</b> fragment size using hl.fragsize</a></li>
</ul></li>
<li class="chapter" data-level="13.27" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#get-the-full-text-of-one-or-more-articles"><i class="fa fa-check"></i><b>13.27</b> Get the full text of one or more articles</a></li>
<li class="chapter" data-level="13.28" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#writing-a-corpus-to-disk"><i class="fa fa-check"></i><b>13.28</b> Writing a corpus to disk</a></li>
<li class="chapter" data-level="13.29" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#round-up-9"><i class="fa fa-check"></i><b>13.29</b> Round Up</a></li>
<li class="chapter" data-level="13.30" data-path="scientific-literature-with-rplos.html"><a href="scientific-literature-with-rplos.html#resources-1"><i class="fa fa-check"></i><b>13.30</b> Resources</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/wipo-analytics/wipo-analytics.github.io" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The WIPO Manual on Open Source Patent Analytics (2nd edition)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="patent-analytics-with-plotly" class="section level1" number="11">
<h1><span class="header-section-number">Chapter 11</span> Patent Analytics with Plotly</h1>
<div id="introduction-5" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Introduction</h2>
<p>In this chapter we provide an introduction to the online graphing service <a href="https://chart-studio.plotly.com/feed/#/">Plotly Chart Studio</a> to create graphics for use in patent analysis.</p>
<p>Plotly is an online graphing service that allows you to import excel, text and other files for visualisation. It also has API services for R, Python, MATLAB and a Plotly Javascript Library. A recent update to the <code>plotly</code> package in R allows you to easily produce graphics directly in RStudio and to send the graphics to Plotly online for further editing and to share with others.</p>
<p>Plotly’s great strength is that it produces attractive interactive graphics that can easily be shared with colleagues or made public. It also has a wide variety of graph types including contour and heat maps and is built with the very popular <a href="http://d3js.org">D3.js</a> Javascript library for interactive graphics. For examples of graphics created with Plotly explore the <a href="https://chart-studio.plotly.com/feed/#/">public gallery</a> on the main page. Plotly was founded in 2012 and has split into different product areas with free and priced offerings. We focus on the free tier of Plotly Chart Studio to help you get started. Our aim in this chapte is to get you started with using Plotly online with .csv or Excel files. In the second part of the chapter we will focus on using the <code>plotly</code> package in RStudio to generate and export graphs to Plotly Chart Studio online.</p>
</div>
<div id="getting-started-with-plotly" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> Getting Started with Plotly</h2>
<p>We need to start out by creating an account using the Create Account Button.</p>
<p><img src="images/plotly/fig1_plotly.png" width="1382" style="display: block; margin: auto;" /></p>
<p>When you have signed up and logged in you will see a button that says <code>+ Create</code> with a range of different options. Choose <code>Chart</code>.</p>
</div>
<div id="importing-files" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> Importing Files</h2>
<p>We choose <code>+ Create</code> and <code>Chart</code> and will see an area to upload our data as a <code>Trace</code>, plotlys term for the data.</p>
<p><img src="images/plotly/fig2_workspace.png" width="1888" style="display: block; margin: auto;" /></p>
<p>In this workspace area you will see an Import Icon that provides a range of options for importing data.
<img src="images/plotly/fig3_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>You can also copy data from a file and paste it into the Grid or use other data sources.</p>
<p><img src="images/plotly/fig4_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>From the Organize page select the New button and then Upload. Now select your local file. When you upload the file a status message will display and if all goes well then you will see a completed message. If not a red message will display informing you that there has been a problem (how you fix these problems is unclear).</p>
<p>For this experiment we used two datasets from the <a href="https://github.com/wipo-analytics/manual/tree/main/data">Open Source Patent Analytics Manual data repository</a>. When using the Github repository click on the file of interest until you see a <code>View Raw</code> message. Then right click to download the data file from there using <code>Save As' and not forgetting to include the file type</code>.csv`. You can download them for your own use directly from the following links.</p>
<ol style="list-style-type: decimal">
<li><a href="https://raw.githubusercontent.com/wipo-analytics/manual/main/data/wipo/wipotrends_cleaned.csv">WIPO trends</a> application trends by year and with % change.</li>
<li><a href="https://raw.githubusercontent.com/wipo-analytics/manual/main/data/pcy.csv">Pizza patents by country and year</a>. This is a simple dataset containing counts of patent documents containing the word pizza from <a href="https://patentscope.wipo.int/search/en/search.jsf">WIPO Patentscope</a> broken down by country and year.</li>
</ol>
<p>One important point to note is that Plotly is not a data processing tool. While there are some data tools, your data will generally need to be in a form that is suitable for plotting at the time of input. In part this reflects the use of APIs which allow for users of Python, R and Matlab to send their data to Plotly directly for sharing with others. This is one of the great strengths of Plotly and we will cover this below. However, we also experienced problems in loading and graphing datasets that were easy to work with in Tableau (as a benchmark). This suggests a need to invest time in understanding the formats that Plotly understands.</p>
</div>
<div id="creating-a-graphic-online" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Creating a Graphic Online</h2>
<p>Having Imported the data we should now see the dataset to the right and a <code>+Trace</code> button. We will use this to create our graph.</p>
<p><img src="images/plotly/fig5_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>When we select the Trace we are given the option to choose the type of graphic that we want to see. Here we have chosen a simple line graph but go ahead and experiment.</p>
<p><img src="images/plotly/fig6_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>A range of the possible plots are shown below.</p>
<p><img src="images/plotly/fig7_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>Next, we choose Year for the X Axis and we choose Applications for the Y axis.</p>
<p><img src="images/plotly/fig8_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>When we have selected the data we want to plot we might want to perform some basic analysis, such as adding a trend line. For that, choose <code>Analyze</code> as in the image below.</p>
<p><img src="images/plotly/fig9_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>The <code>Analyse</code> menu will open up and we choose Curve fitting.</p>
<p><img src="images/plotly/fig10_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>We then use the <code>Fit</code> button.</p>
<p><img src="images/plotly/fig11_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>Next we select the trace (column) that we want to fit the data to.</p>
<p><img src="images/plotly/fig12_plotly.jpeg" style="display: block; margin: auto;" />
Here we will use a simple Linear model (a range of other models are available).</p>
<p><img src="images/plotly/fig13_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>We now have a plot with a line graph and a trend line that should look something like this.</p>
<p><img src="images/plotly/fig29_plotly.png" width="1677" style="display: block; margin: auto;" /></p>
<p>To finish of this simple plot we look for the grayed areas on the graph to add legends to. We will overwrite trace 0 as applications</p>
<p><img src="images/plotly/fig14_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>We then overwite <code>Fit of trace 0</code> as Application Trend. Then head to the left of the plot area to name the title.</p>
<p><img src="images/plotly/fig16_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>At the end of this we need to save the graph using the Save button.</p>
<p><img src="images/plotly/fig19_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>When we move to save we are offered the opportunity to save as public or as private. On the free account choose Public.</p>
<p><img src="images/plotly/fig20_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>We can see above that the default name for a plot is unnamed plot. So give it a sensible name.</p>
<p>You should now have a plot that looks like this.</p>
<p><img src="images/plotly/fig28_plotly.png" width="1508" style="display: block; margin: auto;" /></p>
<p>There are a couple of things that you can do from this point. You can export the plot by choosing the Export button in the image above. You then have some options for exporting the image.</p>
<p><img src="images/plotly/fig24_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>Another opyion is to head to your account in the top right and go to my files.</p>
<p><img src="images/plotly/fig25_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>In the Workspace area, you have options to either edit or view the plot. We will choose the Viewer option.</p>
<p><img src="images/plotly/fig26_plotly.jpeg" style="display: block; margin: auto;" /></p>
<p>The viewer shows us the completed plot</p>
<p><img src="images/plotly/fig27_plotly.png" width="1508" style="display: block; margin: auto;" /></p>
<p>The Viewer area includes access to the Data and in some cases may provide access to any Python or R code used to create the plot. On the top right we see icons the status of the graph <code>Public</code>. Selecting Public allows a graph to be shared in various ways. The download icon allows export of the image and downloads of the relevant data.</p>
<p>In this example we have focused on developing a very simple plot using <code>plotly</code>. In practice there are a wide range of possible plotting options with a growing number of tutorials provided at <a href="https://plotly.com/chart-studio-help/tutorials/">Chart Studio Tutorials</a>.</p>
<p>One of the strengths of plotly Chart Studio is that it is an openly licensed library that can be used directly in both <a href="https://plotly.com/r/getting-started-with-chart-studio/">R</a> and <a href="https://plotly.com/python/getting-started-with-chart-studio/">Python</a>.</p>
</div>
<div id="working-with-plotly-in-r" class="section level2" number="11.5">
<h2><span class="header-section-number">11.5</span> Working with Plotly in R</h2>
<p>We are following the instructions for setting up <a href="https://plot.ly/r/getting-started/">Plotly in R</a>. We will be using <a href="https://www.rstudio.com/">RStudio</a> for this experiment. Download RStudio for your operating system <a href="https://www.rstudio.com/products/rstudio/download/">here</a> and make sure that you also install R at the same time from the link on the RStudio page <a href="https://cran.rstudio.com">here</a>. For Python try these <a href="https://plot.ly/python/getting-started/">installation instructions</a> to get started.</p>
<p>For R users interested in going into greater depth on Plotly in R we recommend Carson Sievert’s book <a href="https://plotly-r.com/">Interactive web-based data visualization with R, plotly, and shiny</a> that is available as a free online book and in hardcover.</p>
<p>In RStudio first we need to install the <code>plotly</code> package. We will also install some other helpful packages for working with data in R. Either select the Packages tab in RStudio and type <code>plotly</code> and install, or copy and paste the following in the console and press Enter.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="patent-analytics-with-plotly.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>) <span class="co"># needed for plotly</span></span>
<span id="cb6-2"><a href="patent-analytics-with-plotly.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;plotly&quot;</span>) <span class="co"># the main event</span></span>
<span id="cb6-3"><a href="patent-analytics-with-plotly.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readr&quot;</span>) <span class="co"># import csv files</span></span>
<span id="cb6-4"><a href="patent-analytics-with-plotly.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>) <span class="co"># wrangle data</span></span>
<span id="cb6-5"><a href="patent-analytics-with-plotly.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyr&quot;</span>) <span class="co"># tidy data</span></span></code></pre></div>
<p>Then load the libraries.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="patent-analytics-with-plotly.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-2"><a href="patent-analytics-with-plotly.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb7-3"><a href="patent-analytics-with-plotly.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb7-4"><a href="patent-analytics-with-plotly.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-5"><a href="patent-analytics-with-plotly.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<p>We now need to set our credentials for the API. When logged in to <code>plotly</code> follow <a href="https://chart-studio.plotly.com/settings/api">this link</a> to obtain your API key. Note also that you can obtain a streaming API token on the same page. Using the streaming key will update a graphic from inside RStudio.</p>
<p>When you have obtained your token use the following command to store your username and the API key in your environment. Note that you should not use this method if you will be sharing work with others because it may expose your credentials. For a more secure method use the usethis package <code>usethis::edit_r_environ()</code> and save the credentials in your R environment file (restart R for the change to take effect). An even more secure approach for day to day working where you are sharing files (e.g. on GitHub) is to use the <code>credentials</code> package (recommended). For the moment we will simply save to our local environment.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="patent-analytics-with-plotly.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="st">&quot;plotly_username&quot;</span> <span class="ot">=</span> <span class="st">&quot;your_plotly_username&quot;</span>)</span>
<span id="cb8-2"><a href="patent-analytics-with-plotly.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="st">&quot;plotly_api_key&quot;</span> <span class="ot">=</span> <span class="st">&quot;your_api_key&quot;</span>)</span></code></pre></div>
<p>Next we will load a dataset of WIPO Patentscope data containing sample data on patent documents containing the word pizza organised by country and year (pcy = pizza, country, year).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="patent-analytics-with-plotly.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb9-2"><a href="patent-analytics-with-plotly.html#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="patent-analytics-with-plotly.html#cb9-3" aria-hidden="true" tabindex="-1"></a>pcy <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://github.com/wipo-analytics/opensource-patent-analytics/raw/master/2_datasets/pizza_medium_clean/pcy.csv&quot;</span>)</span></code></pre></div>
<p>Because patent data generally contains a data cliff for more recent years we will filter out recent years using <code>filter()</code> from the <code>dplyr</code> package by specifying a year that is less than or equal to 2012. To take out the long tail of limited historic data we will specify greater than or equal to 1990.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="patent-analytics-with-plotly.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb10-2"><a href="patent-analytics-with-plotly.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="patent-analytics-with-plotly.html#cb10-3" aria-hidden="true" tabindex="-1"></a>pcy <span class="ot">&lt;-</span> <span class="fu">filter</span>(pcy, pubyear <span class="sc">&gt;=</span> <span class="dv">1990</span>, pubyear <span class="sc">&lt;=</span> <span class="dv">2012</span>)</span>
<span id="cb10-4"><a href="patent-analytics-with-plotly.html#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="patent-analytics-with-plotly.html#cb10-5" aria-hidden="true" tabindex="-1"></a>pcy <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="patent-analytics-with-plotly.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="patent-analytics-with-plotly.html#cb10-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">pubcountry</th>
<th align="left">pubcode</th>
<th align="right">pubyear</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1990</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1991</td>
<td align="right">49</td>
</tr>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1992</td>
<td align="right">66</td>
</tr>
<tr class="even">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1993</td>
<td align="right">59</td>
</tr>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1994</td>
<td align="right">50</td>
</tr>
<tr class="even">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1995</td>
<td align="right">39</td>
</tr>
</tbody>
</table>
<p>To create the plot in <code>plotly</code> we use the <code>plot_ly()</code> function. We will specify the dataset, the x and y axis and then the colour for the country data (known as a trace in <code>plotly</code> language). We will then add a title using the <code>%&gt;%</code> pipe operator for “this” then “that”. To specify the visual we want we specify the mode as “lines”” (try “markers” for a scatter plot). Note also that when specifying the column names to plot_ly we need to use the tilde <code>~</code> before the column name.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="patent-analytics-with-plotly.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb11-2"><a href="patent-analytics-with-plotly.html#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="patent-analytics-with-plotly.html#cb11-3" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(pcy, <span class="at">x =</span> <span class="sc">~</span>pubyear, <span class="at">y =</span> <span class="sc">~</span>n, <span class="at">color =</span> <span class="sc">~</span>pubcountry, <span class="at">mode =</span> <span class="st">&quot;lines&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="patent-analytics-with-plotly.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">&quot;Patenscope Pizza Patent Trends&quot;</span>)</span>
<span id="cb11-5"><a href="patent-analytics-with-plotly.html#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="patent-analytics-with-plotly.html#cb11-6" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<div id="htmlwidget-e4604a77dc24f7917f8a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e4604a77dc24f7917f8a">{"x":{"visdat":{"89a6e786f7c":["function () ","plotlyVisDat"]},"cur_data":"89a6e786f7c","attrs":{"89a6e786f7c":{"x":{},"y":{},"mode":"lines","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Patenscope Pizza Patent Trends","xaxis":{"domain":[0,1],"automargin":true,"title":"pubyear"},"yaxis":{"domain":[0,1],"automargin":true,"title":"n"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[19,49,66,59,50,39,36,45,46,47,54,53,66,53,59,69,77,68,62,47,57,49,16],"mode":"lines","type":"scatter","name":"Canada","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1996,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[1,2,1,2,4,1,5,3,5,5,6,6,3,7,9],"mode":"lines","type":"scatter","name":"China","marker":{"color":"rgba(189,173,133,1)","line":{"color":"rgba(189,173,133,1)"}},"textfont":{"color":"rgba(189,173,133,1)"},"error_y":{"color":"rgba(189,173,133,1)"},"error_x":{"color":"rgba(189,173,133,1)"},"line":{"color":"rgba(189,173,133,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1999,2006,2007],"y":[2,1,1],"mode":"lines","type":"scatter","name":"Eurasian Patent Organization","marker":{"color":"rgba(245,146,102,1)","line":{"color":"rgba(245,146,102,1)"}},"textfont":{"color":"rgba(245,146,102,1)"},"error_y":{"color":"rgba(245,146,102,1)"},"error_x":{"color":"rgba(245,146,102,1)"},"line":{"color":"rgba(245,146,102,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[22,29,36,29,26,29,27,34,36,60,48,56,54,55,75,58,62,47,67,62,56,58,48],"mode":"lines","type":"scatter","name":"European Patent Office","marker":{"color":"rgba(217,150,141,1)","line":{"color":"rgba(217,150,141,1)"}},"textfont":{"color":"rgba(217,150,141,1)"},"error_y":{"color":"rgba(217,150,141,1)"},"error_x":{"color":"rgba(217,150,141,1)"},"line":{"color":"rgba(217,150,141,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[2,2,2,2,5,2,1,1,1,4,3,6,3,7,6,6,9,3,3,5,1,2,7],"mode":"lines","type":"scatter","name":"Germany","marker":{"color":"rgba(162,158,189,1)","line":{"color":"rgba(162,158,189,1)"}},"textfont":{"color":"rgba(162,158,189,1)"},"error_y":{"color":"rgba(162,158,189,1)"},"error_x":{"color":"rgba(162,158,189,1)"},"line":{"color":"rgba(162,158,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1992,1995,1996,2000,2001,2002,2003,2004,2006,2007,2008,2009,2010,2011,2012],"y":[1,1,1,1,3,3,1,6,2,2,1,1,2,3,1],"mode":"lines","type":"scatter","name":"Israel","marker":{"color":"rgba(175,154,200,1)","line":{"color":"rgba(175,154,200,1)"}},"textfont":{"color":"rgba(175,154,200,1)"},"error_y":{"color":"rgba(175,154,200,1)"},"error_x":{"color":"rgba(175,154,200,1)"},"line":{"color":"rgba(175,154,200,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011],"y":[17,26,27,15,16,15,13,14,24,9,14,5,6,4],"mode":"lines","type":"scatter","name":"Japan","marker":{"color":"rgba(215,144,197,1)","line":{"color":"rgba(215,144,197,1)"}},"textfont":{"color":"rgba(215,144,197,1)"},"error_y":{"color":"rgba(215,144,197,1)"},"error_x":{"color":"rgba(215,144,197,1)"},"line":{"color":"rgba(215,144,197,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1993,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[1,1,1,10,2,17,21,18,16,21,43,31,29,17,17,14,18,30],"mode":"lines","type":"scatter","name":"Korea, Republic of","marker":{"color":"rgba(219,162,168,1)","line":{"color":"rgba(219,162,168,1)"}},"textfont":{"color":"rgba(219,162,168,1)"},"error_y":{"color":"rgba(219,162,168,1)"},"error_x":{"color":"rgba(219,162,168,1)"},"line":{"color":"rgba(219,162,168,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1999,2000,2002,2003,2006,2007,2008,2009,2010],"y":[2,2,2,2,3,2,4,4,2],"mode":"lines","type":"scatter","name":"Mexico","marker":{"color":"rgba(189,198,118,1)","line":{"color":"rgba(189,198,118,1)"}},"textfont":{"color":"rgba(189,198,118,1)"},"error_y":{"color":"rgba(189,198,118,1)"},"error_x":{"color":"rgba(189,198,118,1)"},"line":{"color":"rgba(189,198,118,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[8,13,31,16,20,22,23,26,34,46,63,85,77,91,73,96,102,103,121,65,79,92,80],"mode":"lines","type":"scatter","name":"Patent Co-operation Treaty","marker":{"color":"rgba(186,217,78,1)","line":{"color":"rgba(186,217,78,1)"}},"textfont":{"color":"rgba(186,217,78,1)"},"error_y":{"color":"rgba(186,217,78,1)"},"error_x":{"color":"rgba(186,217,78,1)"},"line":{"color":"rgba(186,217,78,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2003,2005,2007,2008,2009,2012],"y":[3,1,2,1,1,1],"mode":"lines","type":"scatter","name":"Portugal","marker":{"color":"rgba(227,217,62,1)","line":{"color":"rgba(227,217,62,1)"}},"textfont":{"color":"rgba(227,217,62,1)"},"error_y":{"color":"rgba(227,217,62,1)"},"error_x":{"color":"rgba(227,217,62,1)"},"line":{"color":"rgba(227,217,62,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1997,2005,2007,2009,2010,2012],"y":[5,1,1,1,1,1],"mode":"lines","type":"scatter","name":"Russian Federation","marker":{"color":"rgba(252,214,66,1)","line":{"color":"rgba(252,214,66,1)"}},"textfont":{"color":"rgba(252,214,66,1)"},"error_y":{"color":"rgba(252,214,66,1)"},"error_x":{"color":"rgba(252,214,66,1)"},"line":{"color":"rgba(252,214,66,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,2003],"y":[1,1],"mode":"lines","type":"scatter","name":"Singapore","marker":{"color":"rgba(241,204,114,1)","line":{"color":"rgba(241,204,114,1)"}},"textfont":{"color":"rgba(241,204,114,1)"},"error_y":{"color":"rgba(241,204,114,1)"},"error_x":{"color":"rgba(241,204,114,1)"},"line":{"color":"rgba(241,204,114,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2002,2003,2004,2005,2006,2007,2008],"y":[2,3,3,3,3,1,9,7,3,4,3,6,3,2,4,3,3,4],"mode":"lines","type":"scatter","name":"South Africa","marker":{"color":"rgba(226,195,150,1)","line":{"color":"rgba(226,195,150,1)"}},"textfont":{"color":"rgba(226,195,150,1)"},"error_y":{"color":"rgba(226,195,150,1)"},"error_x":{"color":"rgba(226,195,150,1)"},"line":{"color":"rgba(226,195,150,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2002,2007],"y":[2,1],"mode":"lines","type":"scatter","name":"Spain","marker":{"color":"rgba(204,187,165,1)","line":{"color":"rgba(204,187,165,1)"}},"textfont":{"color":"rgba(204,187,165,1)"},"error_y":{"color":"rgba(204,187,165,1)"},"error_x":{"color":"rgba(204,187,165,1)"},"line":{"color":"rgba(204,187,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[86,58,73,91,58,79,81,67,64,95,118,156,206,256,242,241,250,248,295,244,286,253,288],"mode":"lines","type":"scatter","name":"United States of America","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This will produce a graphic that is interactive when rendered to html using the Knit button in RStudio. This will allow a user to hover over the data points and also to zoom in and download a copy of the image. Note that there are of course multiple problems with this graph. One issue is that the colour scheme is indistinct because too many countries are displayed in the legend. Also we can see that the dominant country (the US) is compressing the trend for all other countries. We will address some of these issues below. The key point is that effective graphics take significant work.</p>
<p>If we have stored the API key following the instructions above we can easily post the graph to our online account from R. Note that plotly has different pricing tiers. On the free tier we need to set <code>sharing = "public"</code> to share the image without running into an error message.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="patent-analytics-with-plotly.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb12-2"><a href="patent-analytics-with-plotly.html#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="patent-analytics-with-plotly.html#cb12-3" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">api_create</span>(s, <span class="at">sharing =</span> <span class="st">&quot;public&quot;</span>)</span>
<span id="cb12-4"><a href="patent-analytics-with-plotly.html#cb12-4" aria-hidden="true" tabindex="-1"></a>f</span></code></pre></div>
<p>This will open a browser window with the graph on plotly.</p>
<p>One very nice feature of plotly is that a url is provided to the image that can be embedded.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="patent-analytics-with-plotly.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#https://chart-studio.plotly.com/~poldham/631.embed</span></span>
<span id="cb13-2"><a href="patent-analytics-with-plotly.html#cb13-2" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://chart-studio.plotly.com/~poldham/631.embed&quot;</span></span>
<span id="cb13-3"><a href="patent-analytics-with-plotly.html#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="patent-analytics-with-plotly.html#cb13-4" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="at">path =</span> <span class="st">&quot;https://chart-studio.plotly.com/~poldham/631.embed&quot;</span>)</span>
<span id="cb13-5"><a href="patent-analytics-with-plotly.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#![](`r url`)</span></span></code></pre></div>
<p>As this makes clear, it is easy to generate a <code>plotly</code> graph in R but we will want to dig into the <code>plotly</code> package in a little more detail.</p>
<p>To change colours it is helpful to note that <code>plotly</code> installs and then calls the <code>RColorBrewer</code> package (it will display in the Packages list). To see the colour palettes we first tick RColorBrewer in Packages (or <code>library(RColorBrewer)</code>) to load it.</p>
<p>To view the available palettes you could simply use <code>View(brewer.pal.info)</code> or the following chunk which arranges the data by the number of colours.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="patent-analytics-with-plotly.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;RColorBrewer&#39;</code></pre>
<pre><code>## The following object is masked _by_ &#39;.GlobalEnv&#39;:
## 
##     brewer.pal.info</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="patent-analytics-with-plotly.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb17-2"><a href="patent-analytics-with-plotly.html#cb17-2" aria-hidden="true" tabindex="-1"></a>brewer.pal.info<span class="sc">$</span>names <span class="ot">&lt;-</span> <span class="fu">row.names</span>(brewer.pal.info)</span>
<span id="cb17-3"><a href="patent-analytics-with-plotly.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(brewer.pal.info, <span class="dv">4</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="patent-analytics-with-plotly.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(maxcolors)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="patent-analytics-with-plotly.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="patent-analytics-with-plotly.html#cb17-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">names</th>
<th align="left">colorblind</th>
<th align="left">category</th>
<th align="right">maxcolors</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Paired</td>
<td align="left">Paired</td>
<td align="left">TRUE</td>
<td align="left">qual</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Set3</td>
<td align="left">Set3</td>
<td align="left">FALSE</td>
<td align="left">qual</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">BrBG</td>
<td align="left">BrBG</td>
<td align="left">TRUE</td>
<td align="left">div</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="left">PiYG</td>
<td align="left">PiYG</td>
<td align="left">TRUE</td>
<td align="left">div</td>
<td align="right">11</td>
</tr>
<tr class="odd">
<td align="left">PRGn</td>
<td align="left">PRGn</td>
<td align="left">TRUE</td>
<td align="left">div</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="left">PuOr</td>
<td align="left">PuOr</td>
<td align="left">TRUE</td>
<td align="left">div</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
<p>This indicates that the maximum number of colours in a palette is 12. Let’s try <code>Paired</code> for illustration. This has the advantage of being colour blind friendly.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="patent-analytics-with-plotly.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb18-2"><a href="patent-analytics-with-plotly.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb18-3"><a href="patent-analytics-with-plotly.html#cb18-3" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(pcy, <span class="at">x =</span> <span class="sc">~</span>pubyear, <span class="at">y =</span> <span class="sc">~</span>n, <span class="at">color =</span> <span class="sc">~</span>pubcountry, <span class="at">colors =</span> <span class="st">&quot;Paired&quot;</span>, <span class="at">mode =</span> <span class="st">&quot;lines&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="patent-analytics-with-plotly.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">&quot;Pizza Patent trends&quot;</span>)</span>
<span id="cb18-5"><a href="patent-analytics-with-plotly.html#cb18-5" aria-hidden="true" tabindex="-1"></a>s1</span></code></pre></div>
<div id="htmlwidget-e4604a77dc24f7917f8a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e4604a77dc24f7917f8a">{"x":{"visdat":{"5d027e48223":["function () ","plotlyVisDat"]},"cur_data":"5d027e48223","attrs":{"5d027e48223":{"x":{},"y":{},"mode":"lines","color":{},"colors":"Paired","alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Pizza Patent trends","xaxis":{"domain":[0,1],"automargin":true,"title":"pubyear"},"yaxis":{"domain":[0,1],"automargin":true,"title":"n"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[19,49,66,59,50,39,36,45,46,47,54,53,66,53,59,69,77,68,62,47,57,49,16],"mode":"lines","type":"scatter","name":"Canada","marker":{"color":"rgba(166,206,227,1)","line":{"color":"rgba(166,206,227,1)"}},"textfont":{"color":"rgba(166,206,227,1)"},"error_y":{"color":"rgba(166,206,227,1)"},"error_x":{"color":"rgba(166,206,227,1)"},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1996,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[1,2,1,2,4,1,5,3,5,5,6,6,3,7,9],"mode":"lines","type":"scatter","name":"China","marker":{"color":"rgba(79,142,193,1)","line":{"color":"rgba(79,142,193,1)"}},"textfont":{"color":"rgba(79,142,193,1)"},"error_y":{"color":"rgba(79,142,193,1)"},"error_x":{"color":"rgba(79,142,193,1)"},"line":{"color":"rgba(79,142,193,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1999,2006,2007],"y":[2,1,1],"mode":"lines","type":"scatter","name":"Eurasian Patent Organization","marker":{"color":"rgba(121,166,163,1)","line":{"color":"rgba(121,166,163,1)"}},"textfont":{"color":"rgba(121,166,163,1)"},"error_y":{"color":"rgba(121,166,163,1)"},"error_x":{"color":"rgba(121,166,163,1)"},"line":{"color":"rgba(121,166,163,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[22,29,36,29,26,29,27,34,36,60,48,56,54,55,75,58,62,47,67,62,56,58,48],"mode":"lines","type":"scatter","name":"European Patent Office","marker":{"color":"rgba(155,210,119,1)","line":{"color":"rgba(155,210,119,1)"}},"textfont":{"color":"rgba(155,210,119,1)"},"error_y":{"color":"rgba(155,210,119,1)"},"error_x":{"color":"rgba(155,210,119,1)"},"line":{"color":"rgba(155,210,119,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[2,2,2,2,5,2,1,1,1,4,3,6,3,7,6,6,9,3,3,5,1,2,7],"mode":"lines","type":"scatter","name":"Germany","marker":{"color":"rgba(62,164,51,1)","line":{"color":"rgba(62,164,51,1)"}},"textfont":{"color":"rgba(62,164,51,1)"},"error_y":{"color":"rgba(62,164,51,1)"},"error_x":{"color":"rgba(62,164,51,1)"},"line":{"color":"rgba(62,164,51,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1992,1995,1996,2000,2001,2002,2003,2004,2006,2007,2008,2009,2010,2011,2012],"y":[1,1,1,1,3,3,1,6,2,2,1,1,2,3,1],"mode":"lines","type":"scatter","name":"Israel","marker":{"color":"rgba(195,161,118,1)","line":{"color":"rgba(195,161,118,1)"}},"textfont":{"color":"rgba(195,161,118,1)"},"error_y":{"color":"rgba(195,161,118,1)"},"error_x":{"color":"rgba(195,161,118,1)"},"line":{"color":"rgba(195,161,118,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011],"y":[17,26,27,15,16,15,13,14,24,9,14,5,6,4],"mode":"lines","type":"scatter","name":"Japan","marker":{"color":"rgba(245,113,102,1)","line":{"color":"rgba(245,113,102,1)"}},"textfont":{"color":"rgba(245,113,102,1)"},"error_y":{"color":"rgba(245,113,102,1)"},"error_x":{"color":"rgba(245,113,102,1)"},"line":{"color":"rgba(245,113,102,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1993,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[1,1,1,10,2,17,21,18,16,21,43,31,29,17,17,14,18,30],"mode":"lines","type":"scatter","name":"Korea, Republic of","marker":{"color":"rgba(232,63,38,1)","line":{"color":"rgba(232,63,38,1)"}},"textfont":{"color":"rgba(232,63,38,1)"},"error_y":{"color":"rgba(232,63,38,1)"},"error_x":{"color":"rgba(232,63,38,1)"},"line":{"color":"rgba(232,63,38,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1999,2000,2002,2003,2006,2007,2008,2009,2010],"y":[2,2,2,2,3,2,4,4,2],"mode":"lines","type":"scatter","name":"Mexico","marker":{"color":"rgba(251,174,99,1)","line":{"color":"rgba(251,174,99,1)"}},"textfont":{"color":"rgba(251,174,99,1)"},"error_y":{"color":"rgba(251,174,99,1)"},"error_x":{"color":"rgba(251,174,99,1)"},"line":{"color":"rgba(251,174,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[8,13,31,16,20,22,23,26,34,46,63,85,77,91,73,96,102,103,121,65,79,92,80],"mode":"lines","type":"scatter","name":"Patent Co-operation Treaty","marker":{"color":"rgba(255,153,57,1)","line":{"color":"rgba(255,153,57,1)"}},"textfont":{"color":"rgba(255,153,57,1)"},"error_y":{"color":"rgba(255,153,57,1)"},"error_x":{"color":"rgba(255,153,57,1)"},"line":{"color":"rgba(255,153,57,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2003,2005,2007,2008,2009,2012],"y":[3,1,2,1,1,1],"mode":"lines","type":"scatter","name":"Portugal","marker":{"color":"rgba(246,144,91,1)","line":{"color":"rgba(246,144,91,1)"}},"textfont":{"color":"rgba(246,144,91,1)"},"error_y":{"color":"rgba(246,144,91,1)"},"error_x":{"color":"rgba(246,144,91,1)"},"line":{"color":"rgba(246,144,91,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1997,2005,2007,2009,2010,2012],"y":[5,1,1,1,1,1],"mode":"lines","type":"scatter","name":"Russian Federation","marker":{"color":"rgba(196,170,210,1)","line":{"color":"rgba(196,170,210,1)"}},"textfont":{"color":"rgba(196,170,210,1)"},"error_y":{"color":"rgba(196,170,210,1)"},"error_x":{"color":"rgba(196,170,210,1)"},"line":{"color":"rgba(196,170,210,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,2003],"y":[1,1],"mode":"lines","type":"scatter","name":"Singapore","marker":{"color":"rgba(126,84,166,1)","line":{"color":"rgba(126,84,166,1)"}},"textfont":{"color":"rgba(126,84,166,1)"},"error_y":{"color":"rgba(126,84,166,1)"},"error_x":{"color":"rgba(126,84,166,1)"},"line":{"color":"rgba(126,84,166,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2002,2003,2004,2005,2006,2007,2008],"y":[2,3,3,3,3,1,9,7,3,4,3,6,3,2,4,3,3,4],"mode":"lines","type":"scatter","name":"South Africa","marker":{"color":"rgba(191,161,158,1)","line":{"color":"rgba(191,161,158,1)"}},"textfont":{"color":"rgba(191,161,158,1)"},"error_y":{"color":"rgba(191,161,158,1)"},"error_x":{"color":"rgba(191,161,158,1)"},"line":{"color":"rgba(191,161,158,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2002,2007],"y":[2,1],"mode":"lines","type":"scatter","name":"Spain","marker":{"color":"rgba(237,210,121,1)","line":{"color":"rgba(237,210,121,1)"}},"textfont":{"color":"rgba(237,210,121,1)"},"error_y":{"color":"rgba(237,210,121,1)"},"error_x":{"color":"rgba(237,210,121,1)"},"line":{"color":"rgba(237,210,121,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012],"y":[86,58,73,91,58,79,81,67,64,95,118,156,206,256,242,241,250,248,295,244,286,253,288],"mode":"lines","type":"scatter","name":"United States of America","marker":{"color":"rgba(177,89,40,1)","line":{"color":"rgba(177,89,40,1)"}},"textfont":{"color":"rgba(177,89,40,1)"},"error_y":{"color":"rgba(177,89,40,1)"},"error_x":{"color":"rgba(177,89,40,1)"},"line":{"color":"rgba(177,89,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<!---![](images/plotlyfigs/fig18_plotlys.png)--->
<p>As we can see this will then produce a plot with the color palette, <code>plotly</code> will show a warning that the base palette (“Set2”) has 8 colours but will then specify that it is displaying the palette that we requested.</p>
<p>In practice we would want to break this plot into subplots for two reasons. First, the data and value ranges vary widely between countries and second, it is better to ensure that colours are distinct.</p>
<p>To do this we need to run some calculations on the data. We will use functions from <code>dplyr</code> and <code>tidyr</code> to quickly tally the data grouping by the publication code. Then we will add the data to discreet groups based on the scores using <code>mutate()</code> (to add a variable) and <code>ntile()</code> to divide the countries into groups based on the number of records (n) and add this to the new variable called group. Finally, we arrange the data in descending order based on the number of records.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="patent-analytics-with-plotly.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb19-2"><a href="patent-analytics-with-plotly.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb19-3"><a href="patent-analytics-with-plotly.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="patent-analytics-with-plotly.html#cb19-4" aria-hidden="true" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">tally</span>(<span class="fu">group_by</span>(pcy, pubcode)) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="patent-analytics-with-plotly.html#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">ntile</span>(n, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="patent-analytics-with-plotly.html#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">records =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb19-7"><a href="patent-analytics-with-plotly.html#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(records)) </span>
<span id="cb19-8"><a href="patent-analytics-with-plotly.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(total) <span class="sc">%&gt;%</span> </span>
<span id="cb19-9"><a href="patent-analytics-with-plotly.html#cb19-9" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">pubcode</th>
<th align="right">records</th>
<th align="right">group</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CA</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">DE</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">EP</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">US</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">WO</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">KR</td>
<td align="right">18</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>When we view total we now see that countries have been divided into 3 groups based on their number of records. Groups 1 and 2 are unlikely to provide a meaningful graph and group 1 in particular could be dropped. However, we could usefully display this information as a bar chart using <code>plot_ly</code> and selecting <code>type = "bar"</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="patent-analytics-with-plotly.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb20-2"><a href="patent-analytics-with-plotly.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb20-3"><a href="patent-analytics-with-plotly.html#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="patent-analytics-with-plotly.html#cb20-4" aria-hidden="true" tabindex="-1"></a>total_bar <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(total, <span class="at">x =</span> <span class="sc">~</span>pubcode , <span class="at">y =</span> <span class="sc">~</span>records, <span class="at">type =</span> <span class="st">&quot;bar&quot;</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="patent-analytics-with-plotly.html#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">&quot;total_bar&quot;</span>)</span>
<span id="cb20-6"><a href="patent-analytics-with-plotly.html#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="patent-analytics-with-plotly.html#cb20-7" aria-hidden="true" tabindex="-1"></a>total_bar</span></code></pre></div>
<div id="htmlwidget-d03fbe7d0d7cf332693b" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d03fbe7d0d7cf332693b">{"x":{"visdat":{"89a12a8fdf7":["function () ","plotlyVisDat"]},"cur_data":"89a12a8fdf7","attrs":{"89a12a8fdf7":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"total_bar","xaxis":{"domain":[0,1],"automargin":true,"title":"pubcode","type":"category","categoryorder":"array","categoryarray":["CA","CN","DE","EA","EP","ES","IL","JP","KR","MX","PT","RU","SG","US","WO","ZA"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"records"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["CA","DE","EP","US","WO","KR","ZA","CN","IL","JP","MX","PT","RU","EA","ES","SG"],"y":[23,23,23,23,23,18,18,15,15,14,9,6,6,3,2,2],"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<!---![](images/plotlyfigs/fig19_plotlybar.png)--->
<p>Having divided our data into three groups it would now be useful to plot them separately. Here we face the problem that our original data in pcy displays values by year while total displays the total number of records and group. We need first to add the group identifiers to the pcy table. To do that we will modify total to drop the count of records in <code>records</code> using the <code>dplyr</code> <code>select()</code> function. Then we will use <code>left_join()</code> to join the <code>total</code> and <code>total_group</code> tables together. Note that the function will use the shared field “pubcode” for joining.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="patent-analytics-with-plotly.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb21-2"><a href="patent-analytics-with-plotly.html#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="patent-analytics-with-plotly.html#cb21-3" aria-hidden="true" tabindex="-1"></a>total_group <span class="ot">&lt;-</span> total <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="patent-analytics-with-plotly.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pubcode, group) </span>
<span id="cb21-5"><a href="patent-analytics-with-plotly.html#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="patent-analytics-with-plotly.html#cb21-6" aria-hidden="true" tabindex="-1"></a>total_group <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="patent-analytics-with-plotly.html#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-8"><a href="patent-analytics-with-plotly.html#cb21-8" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">pubcode</th>
<th align="right">group</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CA</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">DE</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">EP</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">US</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">WO</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">KR</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>Then we join the two tables and rename <code>n</code> to <code>records</code> for graphing.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="patent-analytics-with-plotly.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb22-2"><a href="patent-analytics-with-plotly.html#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="patent-analytics-with-plotly.html#cb22-3" aria-hidden="true" tabindex="-1"></a>total_grouped <span class="ot">&lt;-</span> <span class="fu">left_join</span>(pcy, total_group) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="patent-analytics-with-plotly.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">records =</span> n)</span>
<span id="cb22-5"><a href="patent-analytics-with-plotly.html#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="patent-analytics-with-plotly.html#cb22-6" aria-hidden="true" tabindex="-1"></a>total_grouped <span class="sc">%&gt;%</span> </span>
<span id="cb22-7"><a href="patent-analytics-with-plotly.html#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-8"><a href="patent-analytics-with-plotly.html#cb22-8" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">pubcountry</th>
<th align="left">pubcode</th>
<th align="right">pubyear</th>
<th align="right">records</th>
<th align="right">group</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1990</td>
<td align="right">19</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1991</td>
<td align="right">49</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1992</td>
<td align="right">66</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1993</td>
<td align="right">59</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1994</td>
<td align="right">50</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Canada</td>
<td align="left">CA</td>
<td align="right">1995</td>
<td align="right">39</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>The next step is to generate a set of three plots corresponding with our three groups. We will call them pizza3, pizza2 and pizza1 and use the full publication country name in <code>pubcountry</code> as the colour for the lines.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="patent-analytics-with-plotly.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb23-2"><a href="patent-analytics-with-plotly.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb23-3"><a href="patent-analytics-with-plotly.html#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="patent-analytics-with-plotly.html#cb23-4" aria-hidden="true" tabindex="-1"></a>pizza3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(total_grouped, group <span class="sc">==</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="patent-analytics-with-plotly.html#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>pubyear, <span class="at">y =</span> <span class="sc">~</span>records, <span class="at">color =</span> <span class="sc">~</span>pubcountry, <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="at">mode =</span> <span class="st">&quot;lines&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-6"><a href="patent-analytics-with-plotly.html#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">&quot;pizza3&quot;</span>)</span>
<span id="cb23-7"><a href="patent-analytics-with-plotly.html#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="patent-analytics-with-plotly.html#cb23-8" aria-hidden="true" tabindex="-1"></a>pizza2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(total_grouped, group <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-9"><a href="patent-analytics-with-plotly.html#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>pubyear, <span class="at">y =</span> <span class="sc">~</span>records, <span class="at">color =</span> <span class="sc">~</span>pubcountry, <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="at">mode =</span> <span class="st">&quot;lines&quot;</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb23-10"><a href="patent-analytics-with-plotly.html#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">&quot;pizza2&quot;</span>)</span>
<span id="cb23-11"><a href="patent-analytics-with-plotly.html#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="patent-analytics-with-plotly.html#cb23-12" aria-hidden="true" tabindex="-1"></a>pizza1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(total_grouped, group <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-13"><a href="patent-analytics-with-plotly.html#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>pubyear, <span class="at">y =</span> <span class="sc">~</span>records, <span class="at">color =</span> <span class="sc">~</span>pubcountry, <span class="at">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="at">mode =</span> <span class="st">&quot;markers&quot;</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb23-14"><a href="patent-analytics-with-plotly.html#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">&quot;pizza1&quot;</span>)</span></code></pre></div>
<p>We now have a total of four draft plots, total_bar and pizza 3 to 1 for our groups. Plotly will allow us to display plots side by side. Note that this can create quite a crunched display in RStudio and is best viewed by selecting the small <code>show in new window</code> button in the RStudio Viewer.</p>
<p>Note that when creating these kinds of plots you will want to name each of the plots.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="patent-analytics-with-plotly.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb24-2"><a href="patent-analytics-with-plotly.html#cb24-2" aria-hidden="true" tabindex="-1"></a>sub <span class="ot">&lt;-</span> <span class="fu">subplot</span>(total_bar, pizza3, pizza2, pizza1)</span>
<span id="cb24-3"><a href="patent-analytics-with-plotly.html#cb24-3" aria-hidden="true" tabindex="-1"></a>sub</span>
<span id="cb24-4"><a href="patent-analytics-with-plotly.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">api_create</span>(sub, <span class="at">sharing =</span> <span class="st">&quot;public&quot;</span>)</span></code></pre></div>
<!--- image needs individual plot names--->
<p>You will now see an image that looks a lot like this.</p>
<p><img src="images/plotlyfigs/fig20_plotlymulti.png" /></p>
<p>The figure reveals no coherent trend for the countries in Group 1 on the right and it makes sense to drop this data. Group 2 is potentially more interesting but the low overall numbers and the spikes for data for Japan suggests very low activity and a lack of complete data. Furthermore, ideally we would want to allocate different colours to the different names in our trends panels (probably by allocating different palettes) which could take considerable time relative to the gains in terms of displaying low frequency data. We will let the bar chart do that work and finish with a simple two plot graphic to send to <code>plotly</code> online.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="patent-analytics-with-plotly.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb25-2"><a href="patent-analytics-with-plotly.html#cb25-2" aria-hidden="true" tabindex="-1"></a>sub1 <span class="ot">&lt;-</span> <span class="fu">subplot</span>(total_bar, pizza3)</span>
<span id="cb25-3"><a href="patent-analytics-with-plotly.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">api_create</span>(sub1, <span class="at">sharing =</span> <span class="st">&quot;public&quot;</span>)</span></code></pre></div>
<p><img src="images/plotlyfigs/fig21_plotlymulti_online.png" /></p>
<p>It is then easy to edit the labels and make final adjustments online.</p>
<p>We can also share the graph via social media, download the data, or edit the graph. Note that the default setting for a graph sent via the API appears to be public (with no obvious way to change that).</p>
<p>It is here that Plotly’s potential importance as a tool for sharing data and graphics becomes apparent. It is a powerful tool. Recent updates to the R package and the introduction of dashboards demonstrates ongoing improvements to this new service.</p>
</div>
<div id="round-up-7" class="section level2" number="11.6">
<h2><span class="header-section-number">11.6</span> Round Up</h2>
<p>In this chapter we have provided a brief introduction to Plotly to help you get started with using this tool for patent analytics. Plotly provides visually appealing and interactive graphics that can readily be shared with colleagues, pasted into websites and shared publicly. The availability of APIs is also a key feature of Plotly for those working in Python, R or other programmatic environments.</p>
<p>However, Plotly can also be confusing. For example, we found it hard to understand why particular datasets would not upload correctly (when they can easily be read in Tableau). We also found it hard to understand the format that the data needed to be in to plot correctly. So, Plotly can be somewhat frustrating although it has very considerable potential for sharing appealing graphics. The recent addition of <a href="https://plot.ly/dashboards/">dashboards</a> is also a promising development. Finally, for R users, the <code>plotly</code> package now closely integrates with the very popular <code>ggplot2</code> package through the ggplotly() function which allows for the creation of interactive <code>ggplot2</code> graphics.</p>
<p>In this chapter we have only touched on the potential of Plotly as a powerful free tool for creating interactive graphics. Other kinds of plots that are well worth exploring include Bubble maps, contour maps and heat maps. To experiment for yourself try the <a href="http://help.plot.ly/tutorials/">Plotly tutorials</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="gephi-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="patent-infographics-with-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
